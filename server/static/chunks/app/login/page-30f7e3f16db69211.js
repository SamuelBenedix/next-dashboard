(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{285:(e,t,r)=>{"use strict";r.d(t,{$:()=>l,r:()=>s});var a=r(5155);r(2115);var n=r(9708),o=r(2085),i=r(9434);let s=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:r,size:o,asChild:l=!1,...c}=e,d=l?n.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,i.cn)(s({variant:r,size:o,className:t})),...c})}},968:(e,t,r)=>{"use strict";r.d(t,{b:()=>s});var a=r(2115),n=r(3655),o=r(5155),i=a.forwardRef((e,t)=>(0,o.jsx)(n.sG.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var s=i},1070:(e,t,r)=>{Promise.resolve().then(r.bind(r,4642))},2523:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var a=r(5155);r(2115);var n=r(9434);function o(e){let{className:t,type:r,...o}=e;return(0,a.jsx)("input",{type:r,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...o})}},3655:(e,t,r)=>{"use strict";r.d(t,{hO:()=>l,sG:()=>s});var a=r(2115),n=r(7650),o=r(9708),i=r(5155),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,o.TL)(`Primitive.${t}`),n=a.forwardRef((e,a)=>{let{asChild:n,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(n?r:t,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function l(e,t){e&&n.flushSync(()=>e.dispatchEvent(t))}},4642:(e,t,r)=>{"use strict";r.d(t,{LoginForm:()=>f});var a=r(5155),n=r(2115),o=r(5695),i=r(6766),s=r(9434),l=r(4831),c=r(285),d=r(6695),u=r(2523),g=r(5057),p=r(4752),h=r.n(p);function f(e){let{className:t,...r}=e,p=(0,o.useRouter)(),f=new l.x,[m,w]=(0,n.useState)(""),[y,v]=(0,n.useState)(""),[x,S]=(0,n.useState)(!1),[b,A]=(0,n.useState)(""),[P,_]=(0,n.useState)(""),[j,T]=(0,n.useState)(""),k=(0,n.useRef)(null);(0,n.useEffect)(()=>{N(),D()},[]);let N=async()=>{try{let e=await f.getIPAddress({format:"json"});A(e.ip),localStorage.setItem("ipAddress",e.ip)}catch(e){console.error("Failed to fetch IP address:",e)}},D=()=>{let e=navigator.userAgent,t="Unknown",r="Unknown";e.includes("Chrome")?t="Chrome":e.includes("Firefox")?t="Firefox":e.includes("Safari")?t="Safari":e.includes("Edg")?t="Edge":e.includes("Trident")&&(t="Internet Explorer"),e.includes("Windows")?r="Windows":e.includes("Mac")?r="MacOS":e.includes("Linux")?r="Linux":e.includes("Android")?r="Android":/iPhone|iPad|iPod/.test(e)&&(r="iOS"),_(t),T(r)},C=async()=>{if(!m||!y)return void h().fire({icon:"warning",title:"Oops...",text:"Please fill in both email and password!",confirmButtonColor:"#005D6B"});S(!0);try{let t=await f.postLogin({username:m,password:y,ipAddress:b,browser:P,os:j});if(1===t.data.code){let{jwT_Token:e,refresh_Token:r}=t.data.data;localStorage.setItem("jwT_Token",e),localStorage.setItem("refresh_Token",r),localStorage.setItem("message",JSON.stringify(t.data.message));let a=await f.parseJwt(e);localStorage.setItem("jwtParse",JSON.stringify(a)),p.push("/documents")}else{var e;h().fire({icon:"error",title:"Login Failed",text:t.data.message||"An unexpected error occurred",confirmButtonColor:"#005D6B"}),null==(e=k.current)||e.reset(),w(""),v("")}}catch(e){console.error("Login error:",e),h().fire({icon:"error",title:"Server Error",text:"Something went wrong. Please try again later.",confirmButtonColor:"#005D6B"})}finally{S(!1)}};return(0,a.jsx)("div",{className:(0,s.cn)("flex flex-col gap-6",t),...r,children:(0,a.jsx)(d.Zp,{className:"overflow-hidden p-0",children:(0,a.jsxs)(d.Wu,{className:"grid p-0 md:grid-cols-2",children:[(0,a.jsx)("form",{ref:k,className:"p-6 md:p-8",onSubmit:e=>{e.preventDefault(),C()},children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Welcome back"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Login to your Acme Inc account"})]}),(0,a.jsxs)("div",{className:"grid gap-3",children:[(0,a.jsx)(g.J,{htmlFor:"username",children:"Username"}),(0,a.jsx)(u.p,{id:"username",type:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Enter your NPP / ID",required:!0,value:m,onChange:e=>{let t=e.target.value;/^\d*$/.test(t)&&w(t)}})]}),(0,a.jsxs)("div",{className:"grid gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(g.J,{htmlFor:"password",children:"Password"}),(0,a.jsx)("a",{href:"#",className:"ml-auto text-sm underline-offset-2 hover:underline",children:"Forgot your password?"})]}),(0,a.jsx)(u.p,{id:"password",type:"password",required:!0,value:y,onChange:e=>v(e.target.value)})]}),(0,a.jsx)(c.$,{type:"submit",className:"w-full",disabled:x,children:x?"Logging in...":"Login"}),(0,a.jsxs)("div",{className:"text-center text-sm",children:["Don't have an account?"," ",(0,a.jsx)("a",{href:"#",className:"underline underline-offset-4",children:"Sign up"})]})]})}),(0,a.jsx)("div",{className:"bg-muted relative hidden md:block",children:(0,a.jsx)(i.default,{src:"/assets/images/email/ttdicon.png",alt:"TTD Icon",fill:!0,className:"object-cover p-8 absolute inset-0 dark:brightness-[0.2] dark:grayscale",priority:!0})})]})})})}},4831:(e,t,r)=>{"use strict";r.d(t,{x:()=>i});var a=r(3464);let n="http://192.168.169.23/",o={headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true"}};class i{async getToken(){let e=localStorage.getItem("jwT_Token");return e?this.parseJwt(e.replace(/"/g,"")):null}parseJwt(e){return JSON.parse(decodeURIComponent(atob(e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))}async getIPAddress(e){try{return(await a.A.get("https://api.ipify.org?format=json",e)).data}catch(e){return e}}async loadDraft(e){let t="".concat(n,"SignPlus_DigitalSignatureCertified/api/Signature/LoadDraft?documentId=").concat(e),r={headers:{...o.headers,Authorization:"Bearer "+localStorage.getItem("jwT_Token")}};try{return(await a.A.get(t,r)).data}catch(e){throw console.error("Error uploading file:",e),e}}async getNamedanEmail(e){let t="".concat(n,"SignPlus_UserManagement/api/Account/GetNameEmailLdap/").concat(e);try{return await a.A.get(t,o)}catch(e){throw console.error("Error uploading file:",e),e}}async postLogin(e){try{return(await a.A.post("".concat(n,"SignPlus_UserManagement/api/Account/Login"),e)).data}catch(e){return e}}async getRefreshToken(e){let t={headers:{...o.headers,Authorization:"Bearer "+localStorage.getItem("jwT_Token")}};try{return(await a.A.post("".concat(n,"SignPlus_UserManagement/api/Account/RefreshToken"),e,t)).data}catch(e){return e}}async getListPegawai(){let e={headers:{...o.headers,Authorization:"Bearer "+localStorage.getItem("jwT_Token")}};try{return(await a.A.get("".concat(n,"SignPlus_UserManagement/api/Account/ListPegawai"),e)).data}catch(e){throw console.error("Error uploading file:",e),e}}async getMenu(){let e={headers:{...o.headers,Authorization:"Bearer "+localStorage.getItem("jwT_Token")}};try{return(await a.A.get("".concat(n,"SignPlus_Utility/api/Utility/GetMenu"),e)).data.data.data}catch(e){return[]}}async register(e){try{return(await a.A.post("".concat(n,"SignPlus_UserManagement/api/Account/Register"),e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){throw console.error("Error uploading file:",e),e}}async uploadFile(e){try{return(await a.A.post("".concat(n,"SignPlus_DigitalSignatureNonCertified/api/NonCertified/upload"),e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){throw console.error("Error uploading file:",e),e}}async downloadFile(e){try{return(await a.A.post("".concat(n,"SignPlus_DigitalSignatureNonCertified/api/NonCertified/download"),e,{headers:{"Content-Type":"multipart/form-data"},responseType:"blob"})).data}catch(e){throw console.error("Error downloading file:",e),e}}async uploadKTP(e){let t={headers:{Authorization:"Bearer "+localStorage.getItem("jwT_Token"),"Content-Type":"multipart/form-data"}};try{return(await a.A.post("".concat(n,"SignPlus_UserManagement/api/Account/Update"),e,t)).data}catch(e){throw console.error("Error uploading file:",e),e}}async getListDoc(e){let t="";t=e?"".concat(n,"SignPlus_DigitalSignatureCertified/api/Signature/GetUserInbox?status=").concat(e):"".concat(n,"SignPlus_DigitalSignatureCertified/api/Signature/GetUserInbox");let r={headers:{...o.headers,Authorization:"Bearer "+localStorage.getItem("jwT_Token")}};try{return(await a.A.get(t,r)).data}catch(e){throw console.error("Error fetching list doc:",e),e}}async downloadCertified(e){let t={headers:{Authorization:"Bearer "+localStorage.getItem("jwT_Token"),"Content-Type":"application/x-www-form-urlencoded"},responseType:"arraybuffer"};try{return await a.A.post("".concat(n,"SignPlus_DigitalSignatureCertified/api/Signature/DownloadFile"),e,t)}catch(e){throw console.error("Error downloading certified file:",e),e}}async signCertified(e){let t={headers:{Authorization:"Bearer "+localStorage.getItem("jwT_Token")}};try{return await a.A.post("".concat(n,"SignPlus_DigitalSignatureCertified/api/Signature/DigitalSign"),e,t)}catch(e){throw console.error("Error signing certified file:",e),e}}async viewProfile(e){let t={headers:{Authorization:"Bearer "+localStorage.getItem("jwT_Token")}};try{return await a.A.post("".concat(n,"SignPlus_UserManagement/api/Account/View"),e,t)}catch(e){throw console.error("Error viewing profile:",e),e}}async logMonitoring(e){try{return await a.A.post("".concat(n,"SignPlus_Monitoring/api/MonitoringSystem/InsertPage"),e,o)}catch(e){throw console.error("Error logging monitoring:",e),e}}async loginMonitoring(e){let t="".concat(n,"SignPlus_Monitoring/api/MonitoringSystem/Login?typeMonitoring=").concat(e);try{return await a.A.post(t,o)}catch(e){throw console.error("Error login monitoring:",e),e}}async getDetailTTD(e){let t="".concat(n,"SignPlus_DigitalSignatureCertified/api/Signature/GetCertificateData?uniq=").concat(e),r={headers:{...o.headers,Authorization:"Bearer "+localStorage.getItem("jwT_Token")}};try{return(await a.A.get(t,r)).data}catch(e){throw console.error("Error getting detail TTD:",e),e}}async getListPageVisit(e){let t="".concat(n,"SignPlus_Monitoring/api/MonitoringSystem/PageVisit?Page=").concat(e.page,"&PageSize=").concat(e.pageSize);try{return await a.A.get(t,o)}catch(e){throw console.error("Error getting list page visit:",e),e}}async getDocumentUploadDownload(e){let t="".concat(n,"SignPlus_Monitoring/api/MonitoringSystem/Document?typeMonitoring=").concat(e);try{return await a.A.get(t,o)}catch(e){throw console.error("Error getting document upload/download:",e),e}}async getBrowserData(){try{return await a.A.get("".concat(n,"SignPlus_Monitoring/api/MonitoringSystem/Browser"),o)}catch(e){throw console.error("Error getting browser data:",e),e}}async getOperatingSystemData(){try{return await a.A.get("".concat(n,"SignPlus_Monitoring/api/MonitoringSystem/OperatingSystem"),o)}catch(e){throw console.error("Error getting OS data:",e),e}}async getOSData(e){let t="".concat(n,"SignPlus_Monitoring/api/MonitoringSystem/OS?typeMonitoring=").concat(e);try{return await a.A.post(t,o)}catch(e){throw console.error("Error uploading file:",e),e}}async getUserData(){try{return await a.A.get("".concat(n,"SignPlus_Monitoring/api/MonitoringSystem/User"),o)}catch(e){throw console.error("Error getting user data:",e),e}}async verifyFile(e){try{return(await a.A.post("".concat(n,"SignPlus_DigitalSignatureCertified/api/Signature/VerifySignature"),e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){throw console.error("Error uploading file:",e),e}}}new i},5057:(e,t,r)=>{"use strict";r.d(t,{J:()=>i});var a=r(5155);r(2115);var n=r(968),o=r(9434);function i(e){let{className:t,...r}=e;return(0,a.jsx)(n.b,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}},6695:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>l,ZB:()=>s,Zp:()=>o,aR:()=>i});var a=r(5155);r(2115);var n=r(9434);function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function s(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",t),...r})}},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var a=r(2596),n=r(9688);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[320,352,134,794,766,441,684,358],()=>t(1070)),_N_E=e.O()}]);