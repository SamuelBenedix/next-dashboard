(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[329],{4960:(e,t,r)=>{"use strict";r.d(t,{A:()=>x});var s=r(5155),a=r(1341),n=r(9018),l=r(2346),i=r(7838),o=r(2523),c=r(7924),d=r(2115);function u(e){let{placeholder:t="Search...",onSearch:r,delay:a=300}=e,[n,l]=(0,d.useState)(""),i=function(e,t){let[r,s]=(0,d.useState)(e);return(0,d.useEffect)(()=>{let r=setTimeout(()=>s(e),t);return()=>clearTimeout(r)},[e,t]),r}(n,a);return(0,d.useEffect)(()=>{r(i)},[i,r]),(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)(c.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(o.p,{type:"search",value:n,onChange:e=>l(e.target.value),placeholder:t,className:"pl-9"})]})}var h=r(285),g=r(5695);function x(e){let{children:t,breadcrumb:r,isCreate:o}=e,c=(0,g.useRouter)();return(0,s.jsxs)(i.GB,{children:[(0,s.jsx)(a.G,{}),(0,s.jsxs)(i.sF,{children:[(0,s.jsxs)("header",{className:"flex h-16 shrink-0 items-center justify-between px-4 gap-2 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i.x2,{className:"-ml-1"}),(0,s.jsx)(l.w,{orientation:"vertical",className:"mr-2 data-[orientation=vertical]:h-4"}),r&&(0,s.jsx)(n.Qp,{children:(0,s.jsxs)(n.AB,{children:[r.parent&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.J5,{className:"hidden md:block",children:(0,s.jsx)(n.w1,{href:r.parent.href||"#",children:r.parent.name})}),(0,s.jsx)(n.tH,{className:"hidden md:block"})]}),(0,s.jsx)(n.J5,{children:(0,s.jsx)(n.tJ,{children:r.current})})]})})]}),o?(0,s.jsx)("div",{}):(0,s.jsxs)("div",{className:"min-w-[500px] max-w-sm w-full flex",children:[(0,s.jsx)(u,{onSearch:e=>{console.log("Search query:",e)},placeholder:"Search..."}),(0,s.jsx)(h.$,{className:"mx-5 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>c.push("/documents/create"),children:"Create Documents"})]})]}),(0,s.jsx)("div",{className:"flex flex-1 flex-col gap-4 p-4 pt-0",children:t})]})]})}},6126:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var s=r(5155);r(2115);var a=r(9708),n=r(2085),l=r(9434);let i=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,asChild:n=!1,...o}=e,c=n?a.DX:"span";return(0,s.jsx)(c,{"data-slot":"badge",className:(0,l.cn)(i({variant:r}),t),...o})}},7013:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(5155),a=r(2115),n=r(5695),l=r(4960),i=r(4831),o=r(285),c=r(2523),d=r(6268),u=r(1032),h=r(5127);function g(e){var t;let{columns:r,data:n}=e,[l,i]=(0,a.useState)([]),o=(0,d.N4)({data:n,columns:r,getCoreRowModel:(0,u.HT)(),getPaginationRowModel:(0,u.kW)(),onSortingChange:i,getSortedRowModel:(0,u.h5)(),state:{sorting:l}});return(0,s.jsx)("div",{className:"rounded-md border",children:(0,s.jsxs)(h.XI,{children:[(0,s.jsx)(h.A0,{children:o.getHeaderGroups().map(e=>(0,s.jsx)(h.Hj,{children:e.headers.map(e=>(0,s.jsx)(h.nd,{children:e.isPlaceholder?null:(0,d.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,s.jsx)(h.BF,{children:(null==(t=o.getRowModel().rows)?void 0:t.length)?o.getRowModel().rows.map(e=>(0,s.jsx)(h.Hj,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,s.jsx)(h.nA,{children:(0,d.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,s.jsx)(h.Hj,{children:(0,s.jsx)(h.nA,{colSpan:r.length,className:"h-24 text-center",children:"No results."})})})]})})}var x=r(6126),m=r(1492);let v=e=>{let{onDownload:t,onSign:r}=e;return[{accessorKey:"fileName",header:e=>{let{column:t}=e;return(0,s.jsxs)(o.$,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Documents",(0,s.jsx)(m.A,{className:"ml-2 h-4 w-4"})]})},cell:e=>{let{row:t}=e;return(0,s.jsx)("div",{children:t.original.fileName})}},{accessorKey:"sendBy",header:e=>{let{column:t}=e;return(0,s.jsxs)(o.$,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Created By",(0,s.jsx)(m.A,{className:"ml-2 h-4 w-4"})]})},cell:e=>{let{row:t}=e;return(0,s.jsx)("div",{children:t.original.sendBy})}},{accessorKey:"sendTo",header:e=>{let{column:t}=e;return(0,s.jsxs)(o.$,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Send To",(0,s.jsx)(m.A,{className:"ml-2 h-4 w-4"})]})},cell:e=>{let{row:t}=e;return(0,s.jsx)("div",{children:t.original.sendTo})}},{accessorKey:"status",header:e=>{let{column:t}=e;return(0,s.jsxs)(o.$,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Status",(0,s.jsx)(m.A,{className:"ml-2 h-4 w-4"})]})},cell:e=>{let{row:t}=e,r=t.original.status,a="default",n="Unknown";switch(r){case 1:case 3:n="Completed",a="default";break;default:n="In Progress",a="secondary"}return(0,s.jsx)(x.E,{variant:a,children:n})}},{id:"actions",header:()=>(0,s.jsx)("div",{className:"text-center",children:"Actions"}),cell:e=>{let{row:a}=e,n=a.original;return(0,s.jsx)("div",{className:"flex items-center justify-center gap-2",children:3===n.status?(0,s.jsx)(o.$,{variant:"default",className:"h-8 px-3",onClick:()=>t(n.id,n.fileName),children:"Download"}):(0,s.jsx)(o.$,{variant:"default",className:"h-8 px-3",onClick:()=>r(n.id),children:"Sign Now"})})},enableSorting:!1,enableColumnFilter:!1}]};var j=r(8856);function f(){let e=new i.x,t=(0,n.useRouter)(),[r,d]=(0,a.useState)([]),[u,h]=(0,a.useState)(""),[x,m]=(0,a.useState)(!1),[f,p]=(0,a.useState)(1),[b]=(0,a.useState)(10),[w,N]=(0,a.useState)([]),[y,S]=(0,a.useState)(0),C=async()=>{m(!0);try{let t=await e.getListDoc("1");console.log("response",t),t.sign&&d(t.sign)}catch(e){var t;console.error("Error:",e),"object"==typeof e&&null!==e&&"response"in e&&"object"==typeof e.response&&(null==(t=e.response)?void 0:t.status)===401&&alert("Check your internet")}m(!1)},k=async()=>{try{await e.logMonitoring("/documents")}catch(e){console.error("Error monitoring:",e)}},A=(0,a.useMemo)(()=>{if(!u)return r;let e=u.toLowerCase();return r.filter(t=>Object.values(t).some(t=>String(null!=t?t:"").toLowerCase().includes(e)))},[u,r]),E=()=>{let e=(f-1)*b;N(A.slice(e,e+b)),S(Math.ceil(A.length/b))},D=async(t,r)=>{let s=new FormData;s.append("idFile",t.toString());try{let t=await e.downloadCertified(s),a=new Blob([t.data]),n=URL.createObjectURL(a),l=document.createElement("a");l.href=n,l.download=r,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(n)}catch(e){console.error("Download error:",e)}};return(0,a.useEffect)(()=>{k(),C()},[]),(0,a.useEffect)(()=>{E()},[A,f]),(0,s.jsxs)(l.A,{breadcrumb:{parent:{name:"Dashboard"},current:"Inbox"},children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)(c.p,{type:"text",placeholder:"Search documents...",value:u,onChange:e=>{h(e.target.value),p(1)}})}),x?(0,s.jsx)("div",{className:"space-y-2",children:Array.from({length:b}).map((e,t)=>(0,s.jsx)(j.E,{className:"h-10 w-full rounded-md"},t))}):(0,s.jsx)(g,{data:w,columns:v({onDownload:D,onSign:e=>{e&&t.push("/sign-now/".concat(e))}})}),(0,s.jsxs)("div",{className:"flex justify-center mt-4 gap-2",children:[(0,s.jsx)(o.$,{variant:"outline",onClick:()=>p(e=>Math.max(e-1,1)),disabled:1===f,children:"Previous"}),(0,s.jsxs)("span",{className:"self-center",children:["Page ",f," of ",y]}),(0,s.jsx)(o.$,{variant:"outline",onClick:()=>p(e=>Math.min(e+1,y)),disabled:f===y,children:"Next"})]})]})}},8166:(e,t,r)=>{Promise.resolve().then(r.bind(r,7013))}},e=>{var t=t=>e(e.s=t);e.O(0,[352,134,452,794,766,534,808,614,441,684,358],()=>t(8166)),_N_E=e.O()}]);