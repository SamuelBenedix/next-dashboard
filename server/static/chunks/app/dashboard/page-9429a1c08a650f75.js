(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{255:(e,t,a)=>{"use strict";function s(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return s}}),a(5155),a(7650),a(5744),a(589)},838:(e,t,a)=>{Promise.resolve().then(a.bind(a,6352))},2146:(e,t,a)=>{"use strict";function s(e){let{reason:t,children:a}=e;return a}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}}),a(5262)},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{bindSnapshot:function(){return l},createAsyncLocalStorage:function(){return r},createSnapshot:function(){return i}});let a=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class s{disable(){throw a}getStore(){}run(){throw a}exit(){throw a}enterWith(){throw a}static bind(e){return e}}let n="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function r(){return n?new n:new s}function l(e){return n?n.bind(e):s.bind(e)}function i(){return n?n.snapshot():function(e,...t){return e(...t)}}},5028:(e,t,a)=>{"use strict";a.d(t,{default:()=>n.a});var s=a(6645),n=a.n(s)},5196:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5744:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return s.workAsyncStorageInstance}});let s=a(7828)},6352:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var s=a(5155),n=a(1341),r=a(9018),l=a(2346),i=a(7838),o=a(2115),c=a(4831),d=a(5127),u=a(285),h=a(2523),p=a(8856),x=a(6695);let j=new c.x,m=()=>{let[e,t]=(0,o.useState)([]),[a,n]=(0,o.useState)(!1),[r,l]=(0,o.useState)(1),[i,c]=(0,o.useState)(6),[m,f]=(0,o.useState)(0);(0,o.useEffect)(()=>{(async()=>{n(!0);try{let e=await j.getListPageVisit({page:r,pageSize:i});t(e.data.listView),f(e.data.totalKey)}catch(e){console.error("Error fetching page visits:",e)}finally{n(!1)}})()},[r,i]);let b=Math.ceil(m/i);return(0,s.jsx)("div",{children:(0,s.jsxs)(x.Zp,{children:[(0,s.jsx)(x.aR,{children:(0,s.jsx)(x.ZB,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Page Visit"}),(0,s.jsx)(h.p,{type:"number",value:i,onChange:e=>c(Number(e.target.value)),className:"w-24 mb-3",min:1})]})})}),(0,s.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,s.jsx)("div",{className:"rounded-md border",children:(0,s.jsxs)(d.XI,{children:[(0,s.jsx)(d.A0,{children:(0,s.jsxs)(d.Hj,{children:[(0,s.jsx)(d.nd,{children:"URl"}),(0,s.jsx)(d.nd,{children:"Page Visit"})]})}),(0,s.jsx)(d.BF,{children:a?[...Array(i)].map((e,t)=>(0,s.jsxs)(d.Hj,{children:[(0,s.jsx)(d.nA,{children:(0,s.jsx)(p.E,{className:"h-4 w-16"})}),(0,s.jsx)(d.nA,{children:(0,s.jsx)(p.E,{className:"h-4 w-32"})}),(0,s.jsx)(d.nA,{children:(0,s.jsx)(p.E,{className:"h-4 w-40"})})]},t)):e.map(e=>(0,s.jsxs)(d.Hj,{children:[(0,s.jsx)(d.nA,{children:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return e?e.length>t?e.slice(0,t)+"...":e:""}(e.keyName)}),(0,s.jsx)(d.nA,{children:e.countNumber})]},e.id))})]})}),(0,s.jsxs)("div",{className:"flex justify-between items-center pt-4",children:[(0,s.jsx)(u.$,{variant:"outline",onClick:()=>l(e=>Math.max(e-1,1)),disabled:1===r,children:"Previous"}),(0,s.jsxs)("span",{children:["Page ",r," of ",b]}),(0,s.jsx)(u.$,{variant:"outline",onClick:()=>l(e=>Math.min(e+1,b)),disabled:r===b,children:"Next"})]})]})]})})};var f=a(5028);let b=new c.x,g=(0,f.default)(()=>Promise.all([a.e(776),a.e(699)]).then(a.bind(a,8699)),{loadableGenerated:{webpack:()=>[8699]},ssr:!1});function y(){let[e,t]=(0,o.useState)([]),[a,n]=(0,o.useState)([]),[r,l]=(0,o.useState)(!1),i=(0,o.useRef)(null),c=(0,o.useRef)(null),d={labels:["Chrome","Firefox","Safari"]};async function u(){l(!0);try{var e,a;let s=await b.getDocumentUploadDownload("upload"),r=await b.getDocumentUploadDownload("Download"),l=s.data,o=r.data,u=l.map(e=>e.countNumber),h=o.map(e=>e.countNumber);t(u),n(h),null==(e=i.current)||e.updateOptions({labels:d.labels}),null==(a=c.current)||a.updateOptions({labels:d.labels})}catch(e){console.error("Error fetching data:",e)}finally{l(!1)}}return(0,o.useEffect)(()=>{u()},[]),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 p-3",children:[(0,s.jsxs)(x.Zp,{children:[(0,s.jsx)(x.aR,{children:(0,s.jsx)(x.ZB,{children:"Document Upload"})}),(0,s.jsx)("div",{className:"bg-white rounded-lg p-4",children:r?(0,s.jsx)("p",{children:"Loading Upload Chart..."}):(0,s.jsx)(g,{options:{...d},series:e,type:"pie",height:350})})]}),(0,s.jsxs)(x.Zp,{children:[(0,s.jsx)(x.aR,{children:(0,s.jsx)(x.ZB,{children:"Document Downlod"})}),(0,s.jsx)("div",{className:"bg-white rounded-lg p-4",children:r?(0,s.jsx)("p",{children:"Loading Download Chart..."}):(0,s.jsx)(g,{options:{...d},series:a,type:"pie",height:350})})]})]})}let v=(0,f.default)(()=>Promise.all([a.e(776),a.e(699)]).then(a.bind(a,8699)),{loadableGenerated:{webpack:()=>[8699]},ssr:!1});function w(e){let{options:t,series:a,height:n=350}=e;return(0,s.jsx)(v,{options:t,series:a,type:"bar",height:n})}let N=(0,f.default)(()=>Promise.all([a.e(776),a.e(699)]).then(a.bind(a,8699)),{loadableGenerated:{webpack:()=>[8699]},ssr:!1});function S(e){let{options:t,series:a,height:n=350}=e;return(0,s.jsx)(N,{options:t,series:a,type:"pie",height:n})}let _=(0,f.default)(()=>Promise.all([a.e(776),a.e(699)]).then(a.bind(a,8699)),{loadableGenerated:{webpack:()=>[8699]},ssr:!1});function k(e){let{options:t,series:a,height:n=350}=e;return(0,s.jsx)(_,{options:t,series:a,type:"bar",height:n})}var O=a(4838),P=a(5196);let E=new c.x;function A(){let[e,t]=(0,o.useState)("Daily"),[a,c]=(0,o.useState)([{name:"Login",data:[]}]),[d,h]=(0,o.useState)([]),[p,j]=(0,o.useState)([]),[f,b]=(0,o.useState)([]),[g,v]=(0,o.useState)("Daily"),[N,_]=(0,o.useState)(),[A,C]=(0,o.useState)([]);(0,o.useEffect)(()=>{var e;let t=JSON.parse(localStorage.getItem("jwtParse")||"{}");(null==t||null==(e=t.Role_Name)?void 0:e.includes("Admin"))&&(D(),R(),B())},[]);let D=async()=>{try{let t=await E.loginMonitoring(e),a=[],s=[];console.log("response",t),t.data.forEach(e=>{a.push(e.keyName),s.push(e.countNumber)}),h(a),c([{name:e,data:s}])}catch(e){console.error("Error fetching data:",e)}},R=async()=>{try{let e=(await E.getOSData(g)).data,t=[],a={};e.forEach(e=>{t.push(e.keyDateTime),e.listOS.forEach(e=>{a[e.keyName]||(a[e.keyName]=[]),a[e.keyName].push(e.countNumber)})});let s=Object.entries(a).map(e=>{let[t,a]=e;return{name:t,data:a}});_(t),C(s)}catch(e){console.error("Error fetching OS chart data:",e)}},B=async()=>{try{let e=(await E.getBrowserData()).data,t=[],a=[];e.forEach(e=>{t.push(e.keyName),a.push(e.countNumber)}),j(t),b(a)}catch(e){console.error("Error fetching data:",e)}};return(0,s.jsxs)(i.GB,{children:[(0,s.jsx)(n.G,{}),(0,s.jsxs)(i.sF,{children:[(0,s.jsx)("header",{className:"flex h-16 shrink-0 items-center gap-2 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 px-4",children:[(0,s.jsx)(i.x2,{className:"-ml-1"}),(0,s.jsx)(l.w,{orientation:"vertical",className:"mr-2 data-[orientation=vertical]:h-4"}),(0,s.jsx)(r.Qp,{children:(0,s.jsxs)(r.AB,{children:[(0,s.jsx)(r.J5,{className:"hidden md:block",children:(0,s.jsx)(r.w1,{href:"#",children:"Building Your Application"})}),(0,s.jsx)(r.tH,{className:"hidden md:block"}),(0,s.jsx)(r.J5,{children:(0,s.jsx)(r.tJ,{children:"Data Fetching"})})]})})]})}),(0,s.jsxs)("div",{className:"grid auto-rows-min gap-3 md:grid-cols-6 p-3",children:[(0,s.jsx)("div",{className:"md:col-span-3 ",children:(0,s.jsxs)(x.Zp,{children:[(0,s.jsxs)(x.aR,{className:"flex items-center justify-between",children:[(0,s.jsx)(x.ZB,{children:"Login Monitoring"}),(0,s.jsxs)(O.rI,{children:[(0,s.jsx)(O.ty,{asChild:!0,children:(0,s.jsx)(u.$,{variant:"outline",className:"capitalize",children:e})}),(0,s.jsx)(O.SQ,{align:"end",children:["daily","monthly","yearly"].map(a=>(0,s.jsxs)(O._2,{onClick:()=>t(a),className:e===a?"font-bold":"",children:[e===a&&(0,s.jsx)(P.A,{className:"mr-2 h-4 w-4"}),a.charAt(0).toUpperCase()+a.slice(1)]},a))})]})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg p-4",children:(0,s.jsx)(w,{options:{chart:{id:"basic-bar",toolbar:{show:!1}},xaxis:{categories:d},colors:["#0ea5e9"]},series:a})})]})}),(0,s.jsx)("div",{className:"md:col-span-3 ",children:(0,s.jsxs)(x.Zp,{children:[(0,s.jsx)(x.aR,{className:"flex items-center justify-between",children:(0,s.jsx)(x.ZB,{children:"Browser"})}),(0,s.jsx)("div",{className:"bg-white rounded-lg p-4",children:(0,s.jsx)(S,{height:385,options:{chart:{type:"pie"},labels:p,legend:{position:"bottom"},responsive:[{breakpoint:480,options:{chart:{width:300},legend:{position:"bottom"}}}]},series:f})})]})})]}),(0,s.jsxs)("div",{className:"grid auto-rows-min gap-3 md:grid-cols-6 p-3",children:[(0,s.jsx)("div",{className:"md:col-span-3",children:(0,s.jsxs)(x.Zp,{children:[(0,s.jsxs)(x.aR,{className:"flex items-center justify-between",children:[(0,s.jsx)(x.ZB,{children:"Login OS"}),(0,s.jsxs)(O.rI,{children:[(0,s.jsx)(O.ty,{asChild:!0,children:(0,s.jsx)(u.$,{variant:"outline",className:"capitalize",children:g})}),(0,s.jsx)(O.SQ,{align:"end",children:["daily","monthly","yearly"].map(e=>(0,s.jsxs)(O._2,{onClick:()=>v(e),className:g===e?"font-bold":"",children:[g===e&&(0,s.jsx)(P.A,{className:"mr-2 h-4 w-4"}),e.charAt(0).toUpperCase()+e.slice(1)]},e))})]})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg p-4",children:(0,s.jsx)(k,{options:{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"50%"}},dataLabels:{enabled:!1},xaxis:{categories:N},colors:["#1E90FF","#FF6347"],legend:{position:"top"}},series:A})})]})}),(0,s.jsx)("div",{className:"md:col-span-3 aspect-video rounded-xl",children:(0,s.jsx)(m,{})})]}),(0,s.jsx)(y,{})]})]})}},6645:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let s=a(8229)._(a(7357));function n(e,t){var a;let n={};"function"==typeof e&&(n.loader=e);let r={...n,...t};return(0,s.default)({...r,modules:null==(a=r.loadableGenerated)?void 0:a.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6695:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>o,ZB:()=>i,Zp:()=>r,aR:()=>l});var s=a(5155);a(2115);var n=a(9434);function r(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function l(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",t),...a})}},7357:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let s=a(5155),n=a(2115),r=a(2146);function l(e){return{default:e&&"default"in e?e.default:e}}a(255);let i={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},o=function(e){let t={...i,...e},a=(0,n.lazy)(()=>t.loader().then(l)),o=t.loading;function c(e){let l=o?(0,s.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,c=i?n.Suspense:n.Fragment,d=t.ssr?(0,s.jsxs)(s.Fragment,{children:[null,(0,s.jsx)(a,{...e})]}):(0,s.jsx)(r.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(a,{...e})});return(0,s.jsx)(c,{...i?{fallback:l}:{},children:d})}return c.displayName="LoadableComponent",c}},7828:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return s}});let s=(0,a(4054).createAsyncLocalStorage)()}},e=>{var t=t=>e(e.s=t);e.O(0,[352,134,452,794,766,534,614,441,684,358],()=>t(838)),_N_E=e.O()}]);